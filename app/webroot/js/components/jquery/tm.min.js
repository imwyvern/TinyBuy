function FastClick(t){var e,n=this;this.trackingClick=false;this.trackingClickStart=0;this.targetElement=null;this.touchStartX=0;this.touchStartY=0;this.lastTouchIdentifier=0;this.touchBoundary=10;this.layer=t;if(!t||!t.nodeType){throw new TypeError("Layer must be a document node")}this.onClick=function(){return FastClick.prototype.onClick.apply(n,arguments)};this.onMouse=function(){return FastClick.prototype.onMouse.apply(n,arguments)};this.onTouchStart=function(){return FastClick.prototype.onTouchStart.apply(n,arguments)};this.onTouchEnd=function(){return FastClick.prototype.onTouchEnd.apply(n,arguments)};this.onTouchCancel=function(){return FastClick.prototype.onTouchCancel.apply(n,arguments)};if(FastClick.notNeeded(t)){return}if(this.deviceIsAndroid){t.addEventListener("mouseover",this.onMouse,true);t.addEventListener("mousedown",this.onMouse,true);t.addEventListener("mouseup",this.onMouse,true)}t.addEventListener("click",this.onClick,true);t.addEventListener("touchstart",this.onTouchStart,false);t.addEventListener("touchend",this.onTouchEnd,false);t.addEventListener("touchcancel",this.onTouchCancel,false);if(!Event.prototype.stopImmediatePropagation){t.removeEventListener=function(e,n,i){var r=Node.prototype.removeEventListener;if(e==="click"){r.call(t,e,n.hijacked||n,i)}else{r.call(t,e,n,i)}};t.addEventListener=function(e,n,i){var r=Node.prototype.addEventListener;if(e==="click"){r.call(t,e,n.hijacked||(n.hijacked=function(t){if(!t.propagationStopped){n(t)}}),i)}else{r.call(t,e,n,i)}}}if(typeof t.onclick==="function"){e=t.onclick;t.addEventListener("click",function(t){e(t)},false);t.onclick=null}}FastClick.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0;FastClick.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent);FastClick.prototype.deviceIsIOS4=FastClick.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent);FastClick.prototype.deviceIsIOSWithBadTarget=FastClick.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);FastClick.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled){return true}break;case"input":if(this.deviceIsIOS&&t.type==="file"||t.disabled){return true}break;case"label":case"video":return true}return/\bneedsclick\b/.test(t.className)};FastClick.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":case"select":return true;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return false}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}};FastClick.prototype.sendClick=function(t,e){var n,i;if(document.activeElement&&document.activeElement!==t){document.activeElement.blur()}i=e.changedTouches[0];n=document.createEvent("MouseEvents");n.initMouseEvent("click",true,true,window,1,i.screenX,i.screenY,i.clientX,i.clientY,false,false,false,false,0,null);n.forwardedTouchEvent=true;t.dispatchEvent(n)};FastClick.prototype.focus=function(t){var e;if(this.deviceIsIOS&&t.setSelectionRange){e=t.value.length;t.setSelectionRange(e,e)}else{t.focus()}};FastClick.prototype.updateScrollParent=function(t){var e,n;e=t.fastClickScrollParent;if(!e||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n;t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}if(e){e.fastClickLastScrollTop=e.scrollTop}};FastClick.prototype.getTargetElementFromEventTarget=function(t){if(t.nodeType===Node.TEXT_NODE){return t.parentNode}return t};FastClick.prototype.onTouchStart=function(t){var e,n,i;if(t.targetTouches.length>1){return true}e=this.getTargetElementFromEventTarget(t.target);n=t.targetTouches[0];if(this.deviceIsIOS){i=window.getSelection();if(i.rangeCount&&!i.isCollapsed){return true}if(!this.deviceIsIOS4){if(n.identifier===this.lastTouchIdentifier){t.preventDefault();return false}this.lastTouchIdentifier=n.identifier;this.updateScrollParent(e)}}this.trackingClick=true;this.trackingClickStart=t.timeStamp;this.targetElement=e;this.touchStartX=n.pageX;this.touchStartY=n.pageY;if(t.timeStamp-this.lastClickTime<200){t.preventDefault()}return true};FastClick.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],n=this.touchBoundary;if(Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n){return true}return false};FastClick.prototype.findControl=function(t){if(t.control!==undefined){return t.control}if(t.htmlFor){return document.getElementById(t.htmlFor)}return t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};FastClick.prototype.onTouchEnd=function(t){var e,n,i,r,a,o=this.targetElement;if(this.touchHasMoved(t)){this.trackingClick=false;this.targetElement=null}if(!this.trackingClick){return true}if(t.timeStamp-this.lastClickTime<200){this.cancelNextClick=true;return true}this.lastClickTime=t.timeStamp;n=this.trackingClickStart;this.trackingClick=false;this.trackingClickStart=0;if(this.deviceIsIOSWithBadTarget){a=t.changedTouches[0];o=document.elementFromPoint(a.pageX-window.pageXOffset,a.pageY-window.pageYOffset)}i=o.tagName.toLowerCase();if(i==="label"){e=this.findControl(o);if(e){this.focus(o);if(this.deviceIsAndroid){return false}o=e}}else{if(this.needsFocus(o)){if(t.timeStamp-n>100||this.deviceIsIOS&&window.top!==window&&i==="input"){this.targetElement=null;return false}this.focus(o);if(!this.deviceIsIOS4||i!=="select"){this.targetElement=null;t.preventDefault()}return false}}if(this.deviceIsIOS&&!this.deviceIsIOS4){r=o.fastClickScrollParent;if(r&&r.fastClickLastScrollTop!==r.scrollTop){return true}}if(!this.needsClick(o)){t.preventDefault();this.sendClick(o,t)}return false};FastClick.prototype.onTouchCancel=function(){this.trackingClick=false;this.targetElement=null};FastClick.prototype.onMouse=function(t){if(!this.targetElement){return true}if(t.forwardedTouchEvent){return true}if(!t.cancelable){return true}if(!this.needsClick(this.targetElement)||this.cancelNextClick){if(t.stopImmediatePropagation){t.stopImmediatePropagation()}else{t.propagationStopped=true}t.stopPropagation();t.preventDefault();return false}return true};FastClick.prototype.onClick=function(t){var e;if(this.trackingClick){this.targetElement=null;this.trackingClick=false;return true}if(t.target.type==="submit"&&t.detail===0){return true}e=this.onMouse(t);if(!e){this.targetElement=null}return e};FastClick.prototype.destroy=function(){var t=this.layer;if(this.deviceIsAndroid){t.removeEventListener("mouseover",this.onMouse,true);t.removeEventListener("mousedown",this.onMouse,true);t.removeEventListener("mouseup",this.onMouse,true)}t.removeEventListener("click",this.onClick,true);t.removeEventListener("touchstart",this.onTouchStart,false);t.removeEventListener("touchend",this.onTouchEnd,false);t.removeEventListener("touchcancel",this.onTouchCancel,false)};FastClick.notNeeded=function(t){var e;if(typeof window.ontouchstart==="undefined"){return true}if(/Chrome\/[0-9]+/.test(navigator.userAgent)){if(FastClick.prototype.deviceIsAndroid){e=document.querySelector("meta[name=viewport]");if(e&&e.content.indexOf("user-scalable=no")!==-1){return true}}else{return true}}if(t.style.msTouchAction==="none"){return true}return false};FastClick.attach=function(t){return new FastClick(t)};if(typeof define!=="undefined"&&define.amd){define(function(){return FastClick})}else{if(typeof module!=="undefined"&&module.exports){module.exports=FastClick.attach;module.exports.FastClick=FastClick}else{window.FastClick=FastClick}}(function(t){var e=t.fn.domManip,n="_tmplitem",i=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,r={},a={},o,l={key:0,data:{}},s=0,c=0,u=[];function p(e,n,i,o){var l={data:o||o===0||o===false?o:n?n.data:{},_wrap:n?n._wrap:null,tmpl:null,parent:n||null,nodes:[],calls:y,nest:C,wrap:w,html:T,update:_};e&&t.extend(l,e,{nodes:[],parent:n});if(i){l.tmpl=i;l._ctnt=l._ctnt||l.tmpl(t,l);l.key=++s;(u.length?a:r)[s]=l}return l}t.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,n){t.fn[e]=function(i){var a=[],l=t(i),s,u,p,f,d=this.length===1&&this[0].parentNode;o=r||{};if(d&&d.nodeType===11&&d.childNodes.length===1&&l.length===1){l[n](this[0]);a=this}else{for(u=0,p=l.length;u<p;u++){c=u;s=(u>0?this.clone(true):this).get();t(l[u])[n](s);a=a.concat(s)}c=0;a=this.pushStack(a,e,l.selector)}f=o;o=null;t.tmpl.complete(f);return a}});t.fn.extend({tmpl:function(e,n,i){return t.tmpl(this[0],e,n,i)},tmplItem:function(){return t.tmplItem(this[0])},template:function(e){return t.template(e,this[0])},domManip:function(n,i,a){if(n[0]&&t.isArray(n[0])){var l=t.makeArray(arguments),s=n[0],u=s.length,p=0,f;while(p<u&&!(f=t.data(s[p++],"tmplItem")));if(f&&c)l[2]=function(e){t.tmpl.afterManip(this,e,a)};e.apply(this,l)}else e.apply(this,arguments);c=0;!o&&t.tmpl.complete(r);return this}});t.extend({tmpl:function(e,n,i,o){var s,c=!o;if(c){o=l;e=t.template[e]||t.template(null,e);a={}}else if(!e){e=o.tmpl;r[o.key]=o;o.nodes=[];o.wrapped&&m(o,o.wrapped);return t(f(o,null,o.tmpl(t,o)))}if(!e)return[];if(typeof n==="function")n=n.call(o||{});i&&i.wrapped&&m(i,i.wrapped);s=t.isArray(n)?t.map(n,function(t){return t?p(i,o,e,t):null}):[p(i,o,e,n)];return c?t(f(o,null,s)):s},tmplItem:function(e){var n;if(e instanceof t)e=e[0];while(e&&e.nodeType===1&&!(n=t.data(e,"tmplItem"))&&(e=e.parentNode));return n||l},template:function(e,n){if(n){if(typeof n==="string")n=h(n);else if(n instanceof t)n=n[0]||{};if(n.nodeType)n=t.data(n,"tmpl")||t.data(n,"tmpl",h(n.innerHTML));return typeof e==="string"?t.template[e]=n:n}return e?typeof e!=="string"?t.template(null,e):t.template[e]||t.template(null,i.test(e)?e:t(e)):null},encode:function(t){return(""+t).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});t.extend(t.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(){r={}},afterManip:function(e,n,i){var r=n.nodeType===11?t.makeArray(n.childNodes):n.nodeType===1?[n]:[];i.call(e,n);k(r);c++}});function f(e,i,r){var a,o=r?t.map(r,function(t){return typeof t==="string"?e.key?t.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+n+'="'+e.key+'" $2'):t:f(t,e,t._ctnt)}):e;if(i)return o;o=o.join("");o.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(e,n,i,r){a=t(i).get();k(a);if(n)a=d(n).concat(a);if(r)a=a.concat(d(r))});return a?a:d(o)}function d(e){var n=document.createElement("div");n.innerHTML=e;return t.makeArray(n.childNodes)}function h(e){return new Function("jQuery","$item","var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('"+t.trim(e).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(e,n,i,r,a,o,l){var s=t.tmpl.tag[i],c,u,p;if(!s)throw"Unknown template tag: "+i;c=s._default||[];if(o&&!/\w$/.test(a)){a+=o;o=""}if(a){a=g(a);l=l?","+g(l)+")":o?")":"";u=o?a.indexOf(".")>-1?a+g(o):"("+a+").call($item"+l:a;p=o?u:"(typeof("+a+")==='function'?("+a+").call($item):("+a+"))"}else p=u=c.$1||"null";r=g(r);return"');"+s[n?"close":"open"].split("$notnull_1").join(a?"typeof("+a+")!=='undefined' && ("+a+")!=null":"true").split("$1a").join(p).split("$1").join(u).split("$2").join(r||c.$2||"")+"__.push('"})+"');}return __;")}function m(e,n){e._wrap=f(e,true,t.isArray(n)?n:[i.test(n)?n:t(n).html()]).join("")}function g(t){return t?t.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function v(t){var e=document.createElement("div");e.appendChild(t.cloneNode(true));return e.innerHTML}function k(e){var i="_"+c,o,l,u={},f,d,h;for(f=0,d=e.length;f<d;f++){if((o=e[f]).nodeType!==1)continue;l=o.getElementsByTagName("*");for(h=l.length-1;h>=0;h--)m(l[h]);m(o)}function m(e){var o,l=e,f,d,h;if(h=e.getAttribute(n)){while(l.parentNode&&(l=l.parentNode).nodeType===1&&!(o=l.getAttribute(n)));if(o!==h){l=l.parentNode?l.nodeType===11?0:l.getAttribute(n)||0:0;if(!(d=r[h])){d=a[h];d=p(d,r[l]||a[l]);d.key=++s;r[s]=d}c&&m(h)}e.removeAttribute(n)}else if(c&&(d=t.data(e,"tmplItem"))){m(d.key);r[d.key]=d;l=t.data(e.parentNode,"tmplItem");l=l?l.key:0}if(d){f=d;while(f&&f.key!=l){f.nodes.push(e);f=f.parent}delete d._ctnt;delete d._wrap;t.data(e,"tmplItem",d)}function m(t){t=t+i;d=u[t]=u[t]||p(d,r[d.parent.key+i]||d.parent)}}}function y(t,e,n,i){if(!t)return u.pop();u.push({_:t,tmpl:e,item:this,data:n,options:i})}function C(e,n,i){return t.tmpl(t.template(e),n,i,this)}function w(e,n){var i=e.options||{};i.wrapped=n;return t.tmpl(t.template(e.tmpl),e.data,i,e.item)}function T(e,n){var i=this._wrap;return t.map(t(t.isArray(i)?i.join(""):i).filter(e||"*"),function(t){return n?t.innerText||t.textContent:t.outerHTML||v(t)})}function _(){var e=this.nodes;t.tmpl(null,null,null,this).insertBefore(e[0]);t(e).remove()}})(jQuery);(function(t){t.fn.extend({loadmore:function(e,n){var i={url:"",limit:10,markupId:"markup",itemsId:"items"};e=t.extend(i,e);var r=this;var a=r.find("div.loading");t.ajax({type:"get",url:e.url,dataType:"json",complete:function(){a.addClass("none")},success:function(i){var a=0;t.each(i.items,function(n,i){a++;t("#"+e.itemsId).append(t("#"+e.markupId).tmpl(i))});if(typeof n=="function"){n()}if(a<e.limit){r.addClass("none")}}})}})})(jQuery);jQuery(function(t){FastClick.attach(document.body);t("#nav-group").bind("click",function(){if(t(this).hasClass("focus")){t("#nav-dropdown-groups").hide();t(this).removeClass("focus")}else{t("#nav-dropdown-groups").show();t(this).addClass("focus")}});t("button.navigator").bind("click",function(){location.href=t(this).attr("url")})});function build_query(t,e){var n=get_query_args(t);var i=t.split("?");var r=false;for(var a in e){n[a]=encodeURIComponent(e[a]);if(a=="page"){r=true}}t=i[0]+"?";for(var o in n){if(!(n[o]=="null"||n[o]=="")){if(o=="page"&&r==false){continue}t+=o+"="+n[o]+"&"}}return t.substr(0,t.length-1)}function get_query_args(t){var e=new Object;var n=t.split("?");if(n.length>=2){var i=n[1];var r=i.split("&");for(var a in r){$item=r[a].split("=");e[$item[0]]=$item[1]}}return e}function htmlspecialchars(t){if(typeof t=="string"){t=t.replace(/&/g,"&amp;");t=t.replace(/"/g,"&quot;");t=t.replace(/'/g,"&#039;");t=t.replace(/</g,"&lt;");t=t.replace(/>/g,"&gt;")}return t}function get_rich_text_length(t){var e=document.createElement("DIV");e.innerHTML=t;var n=e.innerText;n=n.replace(/[\n\r]/g,"");return n.length}function showAlert(t){$("#alert > span").html(t);$("#alert").addClass("show");setTimeout("$('#alert').removeClass('show')",2500)}function showTips(t){$("#tips > span").html(t);$("#tips").addClass("show");setTimeout(function(){$("#tips").removeClass("show")},2500)}function isEmail(t){var e=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/;return e.test(t)}function isTelephone(t){var e=/^1[3|4|5|8]\d{9}$/;return e.test(t)}function setCookie(t,e,n){var i=new Date;i.setDate(i.getDate()+n);document.cookie=t+"="+escape(e)+(n==null?"":";expires="+i.toGMTString())}
$(function(){$("#home-header").bind("touchmove", {}, function(e){e.preventDefault();});$(function(){$(window).scrollTop(20);})});
